jQuery(document).ready(function(e){function t(t){e(document).on("click",".playVidBtn",function(a){a.preventDefault();var i=e(this).attr("data-type"),n=e(this).parents(".videoIframeDiv");if("youtube"==i){e(this).attr("data-embed");n.find("iframe.videoIframe")[0].src+="&autoplay=1",n.addClass("playing"),n.find("iframe.videoIframe").fadeIn(),o=!0,t.stop()}else if("vimeo"==i){var r=n.find("iframe.videoIframe")[0],s=new Vimeo.Player(r);n.addClass("playing"),n.find("iframe.videoIframe").fadeIn(),s.play(),t.stop()}})}e("[data-fancybox]").fancybox({youtube:{controls:0,showinfo:0,rel:0},vimeo:{color:"ffffff"}}),e(".video__vimeo").length>0&&e(".video__vimeo").each(function(){var t=e(this),o=e(this).attr("data-url"),a="https://vimeo.com/api/oembed.json?url="+o;e.get(a,function(o){var a=o.thumbnail_url;e(".vimeo-bg").length>0?e(".vimeo-bg").css("background-image","url('"+a+"')"):t.css("background-image","url('"+a+"')")})});var o=!1,a=e(".flexslider .slides li");a.length>0&&a.eq(1).add(a.eq(-1)).find("img.lazy").each(function(){var t=e(this).attr("data-src");e(this).removeClass("lazy"),e(this).attr("src",t).removeAttr("data-src")});e(".flexslider").flexslider({animation:"fade",smoothHeight:!0,before:function(t){var o=e(t.slides),a=t.animatingTo,i=a,n=i+1,r=i-1;o.length>0&&(o.eq(i).add(o.eq(n)).add(o.eq(r)).find("img.lazy").each(function(){var t=e(this).attr("data-src");e(this).removeClass("lazy"),e(this).attr("src",t).removeAttr("data-src")}),o.eq(i).find(".videoIframe").length>0?(e(".videoIframeDiv").removeClass("playing"),e(".videoIframe").hide(),e("body").addClass("current-slide-is-video")):e("body").removeClass("current-slide-is-video"))},start:function(o){var a=e(o.slides);a.length>0&&t(o)}});e(document).on("click",".flex-next, .flex-prev",function(t){t.preventDefault(),e("iframe.videoIframe").length>0&&e("iframe.videoIframe").each(function(){var o=e(this).attr("data-vid");if("youtube"==o){var a=e(this).parents(".videoIframeDiv"),i=a.find(".playVidBtn").attr("data-embed");"Next"==t.target.outerText&&e(this).attr("src",i)}else if("vimeo"==o){var n=e(this)[0],r=new Vimeo.Player(n);r.pause()}})}),e(".topinfo .today a").hover(function(){e(".topinfo .today").addClass("open")},function(){}),e(document).on("click",function(t){"todayToggle"==t.target.id||"todayTxt"==t.target.id?(t.preventDefault(),e(".topinfo .today").toggleClass("open")):0===e(t.target).closest("#businessHours").length&&e(".site-header .today").removeClass("open")}),e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=e(this.hash);o=o.length?o:e("[name="+this.hash.slice(1)+"]"),o.length&&(t.preventDefault(),e("html, body").animate({scrollTop:o.offset().top},1e3,function(){var t=e(o);return t.focus(),!t.is(":focus")&&(t.attr("tabindex","-1"),void t.focus())}))}}),(new WOW).init(),e(document).on("click","#toggleMenu",function(){e(this).toggleClass("open"),e("body").toggleClass("open-mobile-menu")}),e(document).on("click","#topsearchBtn",function(t){t.preventDefault(),e("#topSearchBar form").submit()}),e(document).on("click","#searchHereBtn",function(t){t.preventDefault(),e(this).toggleClass("search-open"),e("#topSearchBar").toggleClass("show"),e("body").toggleClass("search-form-open"),e("input.search-field").focus()}),e(document).on("click","#closeTopSearch",function(t){t.preventDefault(),e("#searchHereBtn").removeClass("search-open"),e("#topSearchBar").removeClass("show"),e("body").removeClass("search-form-open")}),e('#footSubscribeForm input[type="email"]').on("focus",function(){e("#footSubscribeForm").addClass("input-focus")}),e('#footSubscribeForm input[type="email"]').on("focusout blur",function(){e("#footSubscribeForm").removeClass("input-focus")})});